<div class="col col-lg-12">
  <div class="panel panel-default mt-4">
    <!-- /.panel-heading -->
    <div class="panel-body">
      <div class="button-group mb-3">
        <button (click)="addLead()" class="btn btn-primary">Add New Lead</button>
        <button class="btn btn-primary">Search Lead</button>
      </div>
      <table *ngIf="leads && inventories && cities && propertytypes && locations && users" datatable="ng" class="table table-bordered table-hover"
        style="table-layout:auto;" [dtOptions]="dtOptions" id="datatableId">
        <thead>
          <tr>
            <th>ID</th>
            <th data-priority="1">Lead Information</th>
            <th>Contact #</th>
            <th>Type</th>
            <th *ngIf="!auth.isAgent()">Assigned To</th>
            <th>Status</th>
            <th data-priority="2">Operations</th>
          </tr>
        </thead>
        <tbody>
          <tr class="odd gradeX" *ngFor="let l of leads">
            <td>{{ l._id }}</td>
            <td>
              <u style="text-transform:capitalize;">{{ l.clientName.toLowerCase() }}</u> want to
              <span *ngIf="getInventory(l._id).purpose == 1">
                "sell the {{ getPropertyType(l._id).type }}"</span>
              <span *ngIf="getInventory(l._id).purpose == 2">
                "buy the {{ getPropertyType(l._id).type }}"</span>
              <span *ngIf="getInventory(l._id).purpose == 3">
                "rent the {{ getPropertyType(l._id).type }}"</span>
              in {{ getLocation(l._id).location }}, {{ getCity(l._id).name }}.
              <br>
              <b>Area</b>: {{ getInventory(l._id).area }}
              <span *ngIf="getInventory(l._id).areaUnit == 1">Sq. Feet</span>
              <span *ngIf="getInventory(l._id).areaUnit == 2">Marla</span>
              <span *ngIf="getInventory(l._id).areaUnit == 3">Kanal</span>
              <b>Demand</b>: {{ getInventory(l._id).demand }}
              <b>{{ getPropertyType(l._id).type }} #</b>: {{ getInventory(l._id).propNumber }}
              <b>Street</b>: {{ getInventory(l._id).street }}
            </td>
            <td>{{ l.phoneNumber }}</td>

            <td *ngIf="l.clientType == 1">Owner</td>
            <td *ngIf="l.clientType == 2">Dealer</td>

            <td *ngIf="!auth.isAgent()">{{ getUser(l.assignedTo).name }}</td>

            <td>{{ l.leadStatus }}</td>
            <td>
              <button (click)="editLead(l._id)" class="btn btn-sm btn-default">
                <i class="fas fa-edit" style="font-size:1.2rem"></i> Edit
              </button>
            </td>
          </tr>

        </tbody>

      </table>

    </div>
    <!-- /.panel-body -->
  </div>
  <!-- /.panel -->
</div>
<!-- /.col-lg-12 -->